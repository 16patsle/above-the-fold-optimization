!function(a,b){var c,d,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!1,l=[],m=[];a.Abtf.proxy_setup=function(a){if("undefined"==typeof b)var b=!1;if(c=a.url||b,e=a.js||!1,f=a.css||!1,g=a.js_include||!1,h=a.js_exclude||!1,i=a.css_include||!1,j=a.css_exclude||!1,a.preload){k=!0;for(var n=0;n<a.preload.length;n++)l.push(a.preload[n][0]),m.push(a.preload[n][1]);d=a.base||!1}};var n={Element:"undefined"!=typeof Element&&Element,Document:"undefined"!=typeof Document&&Document},o={append:{},insert:{}};for(var p in n)n.hasOwnProperty(p)&&n[p]&&(o.append[p]=n[p].prototype.appendChild,o.insert[p]=n[p].prototype.insertBefore);var q=document.createElement("a");q.href=document.location.href;var r=function(a){var b=document.createElement("a");return b.href=a,b},s=function(a,b){if(k){var e=l.indexOf(a);if(e>-1){if("js"===b)var f=".js";else if("css"===b)var f=".css";var g=m[e];if(g&&f){var h=d;return h+=g.substr(0,2)+"/",h+=g.substr(2,2)+"/",h+=g.substr(4,2)+"/",h+=g.substr(6,2)+"/",h+=g.substr(8,2)+"/",h+=g,h+=f}}}return"css"===b?c.replace("{PROXY:URL}",escape(a)).replace("{PROXY:TYPE}",escape(b)):"js"===b?c.replace("{PROXY:URL}",escape(a)).replace("{PROXY:TYPE}",escape(b)):void 0},t=function(a){if(a.nodeName)if("SCRIPT"===a.nodeName.toUpperCase()){if(!e)return!1;if(a.src){var b=r(a.src);if(b.host===q.host)return!1;if(g){for(var c=!1,d=g.length,k=0;k<d;k++)if(b.href.indexOf(g[k])!==-1){c=!0;break}if(!c)return!1}if(h)for(var d=h.length,k=0;k<d;k++)if(b.href.indexOf(h[k])!==-1)return!1;return"js"}}else if("LINK"===a.nodeName.toUpperCase()&&"stylesheet"===a.rel.toLowerCase()){if(!f)return!1;if(a.href){var b=r(a.href);if(b.host===q.host)return!1;if(i){for(var c=!1,d=i.length,k=0;k<d;k++)if(b.href.indexOf(i[k])!==-1){c=!0;break}if(!c)return!1}if(j)for(var d=j.length,k=0;k<d;k++)if(b.href.indexOf(j[k])!==-1)return!1;return"css"}}return!1},u=function(a){var b=t(a);if(!b)return!1;var c=r("css"===b?a.href:a.src).href,d=s(c,b);"css"===b?a.href=d:"js"===b&&(a.src=d)},v={appendChild:function(a,b){return u(b),o.append[a].call(this,b)},insertBefore:function(a,b,c){return u(b),o.insert[a].call(this,b,c)}};for(var p in n)n.hasOwnProperty(p)&&n[p]&&!function(a){n[a].prototype.appendChild=function(b){return v.appendChild.call(this,a,b)},n[a].prototype.insertBefore=function(b,c){return v.insertBefore.call(this,a,b,c)}}(p)}(window,window.Abtf);