jQuery(function(s){var i={};if(0<s("#http2_push").length){var r;s("#http2_push").html("");var t={name:"http2.push",mode:"code",modes:["code","tree"],onError:function(t){console.error("JSON",t.toString()),alert("JSON error. Please verify your input.\n\nSee console for details.")},onChange:function(){var t=i.http2push.getText();if(console.log(t),""===s.trim(t))return r&&clearTimeout(r),void(r=setTimeout(function(){r=!1;var t=i.http2push.getText();""===s.trim(t)&&(i.http2push.set([]),jQuery("#http2_push_config_src").val("[]"))},25));try{var e=i.http2push.get()}catch(t){return}jQuery("#http2_push_config_src").val(JSON.stringify(e))},onModeChange:function(t,e){var r=i.http2push.getText();""===s.trim(r)&&i.http2push.set([]),"tree"===t||s("#http2_push_config_src").data("json-editor").editor.setOptions({maxLines:50})},search:!1,schema:{title:"HTTP/2 Push",type:"array",items:{oneOf:[{title:"WordPress enqueued stylesheets or scripts.",type:"object",properties:{type:{type:"string",enum:["style","script","image"]},match:{oneOf:[{type:"string",enum:["all"]},{title:"Match the URL of a stylesheet of script.",type:"object",properties:{pattern:{type:"string",minLength:1},regex:{type:"boolean"},exclude:{type:"boolean"}},required:["pattern"],additionalProperties:!1}]},meta:{title:"Add meta rel=preload to header.",type:"boolean"}},additionalProperties:!1,required:["type","match"]},{title:"Custom resources.",type:"object",properties:{type:{type:"string",enum:["custom"]},resources:{title:"Resources to push.",type:"array",items:{type:"object",properties:{file:{type:"string"},type:{type:"string",enum:["audio","video","track","script","style","image","font","fetch","worker","embed","object","document"]},mime:{type:"string"}},additionalProperties:!1,required:["file","type"]},uniqueItems:!0},meta:{title:"Add meta rel=preload to header.",type:"boolean"}},additionalProperties:!1,required:["type","resources"]}]},uniqueItems:!0}},e=[];if(""!==jQuery("#http2_push_config_src").val()){if("object"!=typeof(e=jQuery("#http2_push_config_src").val()))try{e=JSON.parse(e)}catch(t){e=[]}e&&"object"==typeof e||(e=[])}e instanceof Array&&0===e.length&&(e=[]);var o=!1;"[]"===JSON.stringify(e)&&(o=!0),i.http2push=new JSONEditor(s("#http2_push")[0],t,e),"code"===t.mode&&(o||i.http2push.editor.setOptions({maxLines:50})),s("#http2_push_config_src").data("json-editor",i.http2push),s("[data-http2-insert]").on("click",function(t){t.stopPropagation();try{var e=i.http2push.get()}catch(t){return}if(e instanceof Array){var r=s(this).data("http2-insert");"string"==typeof r&&(r=JSON.parse(r)),r instanceof Array||(r=[r]);for(var o=0;o<r.length;o++)e.push(r[o]);i.http2push.set(e),jQuery("#http2_push_config_src").val(JSON.stringify(e))}})}});